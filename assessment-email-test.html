<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Email Test</title>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        input, button { margin: 10px 0; padding: 10px; width: 100%; }
        button { background: #7c3aed; color: white; border: none; cursor: pointer; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #dc2626; }
    </style>
</head>
<body>
    <h1>üß™ Simple Assessment Email Test</h1>
    
    <input type="email" id="testEmail" placeholder="Your email address" required>
    <input type="text" id="firstName" placeholder="First Name" value="Test User">
    
    <button onclick="sendSimpleTest()">Send Simple Email</button>
    <button onclick="sendWithHTML()">Send Simple HTML</button>
    <button onclick="sendMinimalHTML()">Send Minimal HTML Test</button>
    
    <div id="status"></div>
    
    <script>
        // Initialize EmailJS
        emailjs.init("SAU17WFhPmeQLrng7");
        
        async function sendSimpleTest() {
            const email = document.getElementById('testEmail').value;
            const firstName = document.getElementById('firstName').value;
            const status = document.getElementById('status');
            
            if (!email) {
                status.innerHTML = '<div class="status error">Please enter an email</div>';
                return;
            }
            
            status.innerHTML = '<div class="status">Sending simple email...</div>';
            
            try {
                const result = await emailjs.send(
                    "service_vntq4ai",
                    "template_tcyaiym",
                    {
                        to_name: firstName,
                        to_email: email,
                        from_name: "MogulMomma Test",
                        subject: "Simple Test Email",
                        message: `Hi ${firstName}! This is a simple test email to verify EmailJS is working with template_tcyaiym.`,
                        reply_to: "hello@mogulmomma.com"
                    }
                );
                
                console.log('Success:', result);
                status.innerHTML = '<div class="status success">‚úÖ Simple email sent successfully!</div>';
                
            } catch (error) {
                console.error('Error:', error);
                status.innerHTML = `<div class="status error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        async function sendWithHTML() {
            const email = document.getElementById('testEmail').value;
            const firstName = document.getElementById('firstName').value;
            const status = document.getElementById('status');
            
            if (!email) {
                status.innerHTML = '<div class="status error">Please enter an email</div>';
                return;
            }
            
            status.innerHTML = '<div class="status">Sending HTML email...</div>';
            
            const htmlContent = `<h1>Hi ${firstName}!</h1><p>This is a <strong>simple HTML test</strong> from MogulMomma.</p><p style="color: #7c3aed;">Your archetype: The Strategist</p><p>If you can see this formatted text, HTML is working!</p>`;
            
            try {
                const result = await emailjs.send(
                    "service_vntq4ai",
                    "template_tcyaiym",
                    {
                        to_name: firstName,
                        to_email: email,
                        from_name: "MogulMomma Assessment",
                        subject: "HTML Assessment Test",
                        message: htmlContent,
                        reply_to: "hello@mogulmomma.com"
                    }
                );
                
                console.log('Success:', result);
                status.innerHTML = '<div class="status success">‚úÖ HTML email sent successfully!</div>';
                
            } catch (error) {
                console.error('Error:', error);
                status.innerHTML = `<div class="status error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        async function sendMinimalHTML() {
            const email = document.getElementById('testEmail').value;
            const firstName = document.getElementById('firstName').value;
            const status = document.getElementById('status');
            
            if (!email) {
                status.innerHTML = '<div class="status error">Please enter an email</div>';
                return;
            }
            
            status.innerHTML = '<div class="status">Sending minimal HTML...</div>';
            
            const minimalHTML = `Hello ${firstName}! This is just plain text with no HTML tags to test if the issue is with HTML complexity.`;
            
            try {
                const result = await emailjs.send(
                    "service_vntq4ai",
                    "template_tcyaiym",
                    {
                        to_name: firstName,
                        to_email: email,
                        from_name: "MogulMomma Test",
                        subject: "Minimal Test - No HTML",
                        message: minimalHTML,
                        reply_to: "hello@mogulmomma.com"
                    }
                );
                
                console.log('Success:', result);
                status.innerHTML = '<div class="status success">‚úÖ Minimal content sent!</div>';
                
            } catch (error) {
                console.error('Error:', error);
                status.innerHTML = `<div class="status error">‚ùå Error: ${error.message}</div>`;
            }
        }
    </script>
</body>
</html>